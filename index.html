<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Green Leaf Grocer</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=DM+Mono:wght@500;600&display=swap" rel="stylesheet" />
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: 'DM Sans', sans-serif;
    background: #F0F2F5;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    padding: 24px 16px;
  }
  .card {
    width: 390px;
    background: #fff;
    border-radius: 28px;
    overflow: hidden;
    box-shadow: 0 8px 40px rgba(0,0,0,0.12);
  }
  .drag-handle {
    display: flex; justify-content: center; padding: 12px 0 0;
  }
  .drag-handle div {
    width: 36px; height: 4px; background: #E0E0E0; border-radius: 99px;
  }
  .header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 14px 20px 10px;
  }
  .header-left { display: flex; align-items: center; gap: 8px; }
  .back-btn { font-size: 20px; color: #333; cursor: pointer; line-height: 1; }
  .store-name { font-size: 20px; font-weight: 700; color: #111; }
  .view-details { font-size: 13px; color: #2D7A4F; font-weight: 500; text-decoration: underline; cursor: pointer; }

  .row { display: flex; gap: 10px; padding: 0 16px 12px; }

  /* Owner card */
  .owner-card {
    flex: 1; background: #fff; border: 1px solid #EDEDED;
    border-radius: 14px; padding: 12px 14px;
    display: flex; align-items: center; gap: 12;
  }
  .avatar {
    width: 40px; height: 40px; border-radius: 50%;
    background: #1E5E3E; color: #fff;
    display: flex; align-items: center; justify-content: center;
    font-weight: 700; font-size: 14px; flex-shrink: 0;
  }
  .owner-name { font-weight: 600; font-size: 15px; color: #111; }
  .owner-role { font-size: 12px; color: #888; margin-top: 2px; }

  /* Close rate */
  .close-rate {
    background: #E8F5EE; border-radius: 14px; padding: 12px 16px;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    min-width: 80px;
  }
  .close-rate-val { font-weight: 800; font-size: 22px; color: #1E5E3E; line-height: 1; }
  .close-rate-label { font-size: 11px; color: #2D7A4F; font-weight: 500; margin-top: 3px; }

  /* AI insight */
  .ai-insight {
    margin: 0 16px 16px;
    background: #F3EFFF; border: 1px solid #E0D6FF;
    border-left: 3px solid #7C5CFC;
    border-radius: 12px; padding: 12px 14px;
    font-size: 13.5px; color: #3D2E6B; line-height: 1.5;
    display: flex; align-items: flex-start; gap: 6px;
  }
  .ai-insight span:last-child { font-size: 16px; flex-shrink: 0; }

  /* Section label */
  .section-label {
    padding: 2px 16px 8px;
    font-size: 13px; font-weight: 700; color: #111; letter-spacing: 0.02em;
  }

  /* Status cards */
  .status-churned {
    flex: 1; background: #FFF3F3; border: 1px solid #FCCACA;
    border-radius: 14px; padding: 14px 16px;
  }
  .status-badge { display: flex; align-items: center; gap: 6px; margin-bottom: 4px; }
  .dot { width: 8px; height: 8px; border-radius: 50%; }
  .dot-red { background: #E53E3E; }
  .status-text { font-weight: 700; font-size: 13px; color: #C53030; }
  .status-sub { font-size: 12px; color: #888; }

  .last-order {
    flex: 1; background: #fff; border: 1px solid #EDEDED;
    border-radius: 14px; padding: 14px 16px;
  }
  .mono { font-family: 'DM Mono', monospace; }
  .last-order-val { font-weight: 600; font-size: 22px; color: #E53E3E; line-height: 1; }
  .last-order-label { font-size: 12px; color: #888; margin-top: 4px; }

  /* GMV cards */
  .gmv-card {
    flex: 1; background: #fff; border: 1px solid #EDEDED;
    border-radius: 14px; padding: 14px 16px;
  }
  .gmv-val { font-weight: 600; font-size: 22px; color: #111; line-height: 1; }
  .gmv-label { font-size: 12px; color: #888; margin-top: 4px; }

  .trend-card {
    flex: 1; background: #FFF8F0; border: 1px solid #FDDCB4;
    border-radius: 14px; padding: 14px 16px;
  }
  .trend-val { font-weight: 700; font-size: 22px; color: #C05621; line-height: 1; }
  .trend-label { font-size: 12px; color: #888; margin-top: 4px; }

  /* Urgency pill */
  .urgency-pill {
    margin: 0 16px 16px;
    background: #FFF8F0; border: 1px solid #FDDCB4;
    border-radius: 10px; padding: 9px 12px;
    font-size: 12.5px; color: #7B4100; line-height: 1.4;
    display: flex; gap: 6px; align-items: flex-start;
  }
  .urgency-pill span:first-child { font-size: 14px; flex-shrink: 0; }

  /* Win-back */
  .winback {
    margin: 0 16px 16px;
    background: linear-gradient(135deg, #1E5E3E 0%, #2D7A4F 100%);
    border-radius: 16px; padding: 16px; color: #fff;
  }
  .winback-header {
    display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;
  }
  .winback-title { display: flex; align-items: center; gap: 6px; font-weight: 700; font-size: 14px; }
  .active-badge {
    background: rgba(255,255,255,0.2); border-radius: 20px;
    padding: 2px 8px; font-size: 11px; font-weight: 600;
  }
  .winback-body { font-size: 13px; opacity: 0.9; line-height: 1.5; margin-bottom: 12px; }
  .winback-btn {
    width: 100%; background: #fff; color: #1E5E3E;
    border: none; border-radius: 10px; padding: 10px;
    font-family: 'DM Sans', sans-serif;
    font-weight: 700; font-size: 14px; cursor: pointer;
  }

  /* Buying patterns dropdown */
  .bp-wrapper { padding: 0 16px 16px; }
  .bp-toggle {
    width: 100%; background: none; border: none;
    padding: 0; cursor: pointer; text-align: left;
  }
  .bp-header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 10px 14px;
    background: #fff;
    border: 1px solid #EDEDED;
    border-radius: 14px;
    transition: border-radius 0.2s;
  }
  .bp-header.open {
    background: #F9FAFB;
    border-radius: 14px 14px 0 0;
  }
  .bp-header-left { display: flex; align-items: center; gap: 8px; }
  .bp-title { font-size: 13px; font-weight: 700; color: #111; }
  .insight-pill {
    display: inline-flex; align-items: center; gap: 4px;
    background: #F3EFFF; border: 1px solid #E0D6FF;
    border-radius: 20px; padding: 3px 9px;
    font-size: 11.5px; color: #5A3FBE; font-weight: 600;
  }
  .insight-pill-star { font-size: 10px; }
  .bp-chevron {
    font-size: 12px; color: #999; font-weight: 600;
    transition: transform 0.22s; display: inline-block;
  }
  .bp-chevron.open { transform: rotate(180deg); }

  .bp-content {
    display: none;
    border: 1px solid #EDEDED; border-top: none;
    border-radius: 0 0 14px 14px;
    padding: 14px; background: #F9FAFB;
  }
  .bp-content.open { display: block; }

  /* Days row */
  .days-row { display: flex; align-items: center; gap: 8px; margin-bottom: 14px; }
  .days-label { font-size: 11px; color: #888; white-space: nowrap; }
  .days-dots { display: flex; gap: 4px; }
  .day-dot {
    width: 28px; height: 28px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 11px; font-weight: 600;
    border: 1px solid #E8E8E8; color: #CCC;
    position: relative;
  }
  .day-dot.active { background: #E8F5EE; color: #1E5E3E; border-color: #A8D8BE; }
  .day-dot.today { background: #1E5E3E; color: #fff; border: none; }
  .today-pip {
    position: absolute; bottom: -5px;
    width: 4px; height: 4px; border-radius: 50%; background: #1E5E3E;
  }

  /* Chart */
  .chart-wrap {
    background: #fff; border-radius: 10px; padding: 12px 12px 8px;
    margin-bottom: 12px; border: 1px solid #EDEDED;
  }
  .chart-header {
    display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;
  }
  .chart-title { font-size: 11px; font-weight: 600; color: #444; }
  .chart-legend { display: flex; gap: 8px; font-size: 10px; color: #666; }
  .chart-bars {
    display: flex; align-items: flex-end; gap: 3px; height: 50px;
  }
  .bar-wrap { flex: 1; }
  .bar {
    width: 100%; border-radius: 3px 3px 2px 2px;
    position: relative;
  }
  .bar-now-label {
    position: absolute; top: -16px; left: 50%;
    transform: translateX(-50%);
    background: #2A52BE; color: #fff;
    font-size: 8px; font-weight: 700; padding: 2px 4px;
    border-radius: 3px; white-space: nowrap;
  }
  .chart-x {
    display: flex; justify-content: space-between; margin-top: 4px;
    font-size: 9px; color: #BBB;
  }

  /* Stats row */
  .stats-row {
    display: flex; gap: 8px;
  }
  .stat-box {
    flex: 1; background: #fff; border: 1px solid #EDEDED;
    border-radius: 10px; padding: 10px 12px; text-align: center;
  }
  .stat-val { font-weight: 600; font-size: 16px; color: #111; }
  .stat-label { font-size: 10px; color: #888; margin-top: 2px; }

  /* CTA */
  .cta-row { display: flex; gap: 10px; padding: 0 16px 24px; }
  .btn-save {
    flex: 1; padding: 14px; background: #F3F4F6;
    border: none; border-radius: 100px;
    font-family: 'DM Sans', sans-serif;
    font-weight: 600; font-size: 15px; color: #444; cursor: pointer;
  }
  .btn-checkin {
    flex: 1.5; padding: 14px; background: #111;
    border: none; border-radius: 100px;
    font-family: 'DM Sans', sans-serif;
    font-weight: 700; font-size: 15px; color: #fff; cursor: pointer;
    display: flex; align-items: center; justify-content: center; gap: 6px;
  }
</style>
</head>
<body>
<div class="card">

  <!-- Drag handle -->
  <div class="drag-handle"><div></div></div>

  <!-- Header -->
  <div class="header">
    <div class="header-left">
      <span class="back-btn">‚Äπ</span>
      <span class="store-name">Green Leaf Grocer</span>
    </div>
    <span class="view-details">View full details</span>
  </div>

  <!-- Owner + Close rate -->
  <div class="row">
    <div class="owner-card" style="display:flex;align-items:center;gap:12px;flex:1;border:1px solid #EDEDED;border-radius:14px;padding:12px 14px;">
      <div class="avatar">MR</div>
      <div>
        <div class="owner-name">Marcus Rodriguez</div>
        <div class="owner-role">Owner</div>
      </div>
    </div>
    <div class="close-rate">
      <span class="close-rate-val">78%</span>
      <span class="close-rate-label">Close rate</span>
    </div>
  </div>

  <!-- AI Insight -->
  <div class="ai-insight">
    <span>High-probability new store. Never ordered ‚Äî strong buying signals from foot traffic and category fit.</span>
    <span>‚ú¶</span>
  </div>

  <!-- Section: Store Status -->
  <div class="section-label">Store Status</div>
  <div class="row">
    <div class="status-churned">
      <div class="status-badge">
        <div class="dot dot-red"></div>
        <span class="status-text">CHURNED</span>
      </div>
      <div class="status-sub">Needs re-engagement</div>
    </div>
    <div class="last-order">
      <div class="last-order-val mono">16d ago</div>
      <div class="last-order-label">Last order</div>
    </div>
  </div>

  <!-- Section: Revenue at Stake -->
  <div class="section-label">Revenue at Stake</div>
  <div class="row">
    <div class="gmv-card">
      <div class="gmv-val mono">$1,240</div>
      <div class="gmv-label">Monthly GMV</div>
    </div>
    <div class="trend-card">
      <div class="trend-val mono">‚Üò ‚àí12%</div>
      <div class="trend-label">GMV trend</div>
    </div>
  </div>
  <div class="urgency-pill">
    <span>‚ö†Ô∏è</span>
    <span><strong>Declining account</strong> ‚Äî revenue is down and lapsing. High urgency to re-engage.</span>
  </div>

  <!-- Section: Your Reason to Visit -->
  <div class="section-label">Your Reason to Visit</div>
  <div class="winback">
    <div class="winback-header">
      <div class="winback-title"><span>üéÅ</span> Win-back Offer Available</div>
      <span class="active-badge">ACTIVE</span>
    </div>
    <div class="winback-body"><strong>15% off first reorder</strong> + free shipping on orders over $150. Expires in 4 days.</div>
    <button class="winback-btn">Use offer on check-in ‚Üí</button>
  </div>

  <!-- Section: Buying Patterns (dropdown) -->
  <div class="section-label">Buying Patterns</div>
  <div class="bp-wrapper">
    <button class="bp-toggle" onclick="toggleBP()" id="bp-toggle-btn">
      <div class="bp-header" id="bp-header">
        <div class="bp-header-left">
          <span class="bp-title">Details</span>
          <div class="insight-pill">
            <span class="insight-pill-star">‚ú¶</span> Buys before noon rush
          </div>
        </div>
        <span class="bp-chevron" id="bp-chevron">‚ñæ</span>
      </div>
    </button>

    <div class="bp-content" id="bp-content">
      <!-- Days -->
      <div class="days-row">
        <span class="days-label">Best days:</span>
        <div class="days-dots">
          <div class="day-dot active">M</div>
          <div class="day-dot active">T</div>
          <div class="day-dot active">W</div>
          <div class="day-dot active">T</div>
          <div class="day-dot today">F<div class="today-pip"></div></div>
          <div class="day-dot">S</div>
          <div class="day-dot">S</div>
        </div>
      </div>

      <!-- Chart -->
      <div class="chart-wrap">
        <div class="chart-header">
          <span class="chart-title">Popular times</span>
          <div class="chart-legend">
            <span><span style="color:#2D7A4F">‚óè</span> Good</span>
            <span><span style="color:#2A52BE">‚óè</span> Now</span>
          </div>
        </div>
        <div class="chart-bars" id="chart-bars"></div>
        <div class="chart-x"><span>8am</span><span>4pm</span><span>8pm</span></div>
      </div>

      <!-- Stats -->
      <div class="stats-row">
        <div class="stat-box">
          <div class="stat-val mono">12d</div>
          <div class="stat-label">Avg cycle</div>
        </div>
        <div class="stat-box">
          <div class="stat-val mono">~18 min</div>
          <div class="stat-label">Avg visit</div>
        </div>
      </div>
    </div>
  </div>

  <!-- CTAs -->
  <div class="cta-row">
    <button class="btn-save" id="save-btn" onclick="toggleSave()">Save for later</button>
    <button class="btn-checkin">üìç Check in</button>
  </div>

</div>

<script>
  // Buying patterns toggle
  function toggleBP() {
    const content = document.getElementById('bp-content');
    const header = document.getElementById('bp-header');
    const chevron = document.getElementById('bp-chevron');
    const isOpen = content.classList.contains('open');
    content.classList.toggle('open', !isOpen);
    header.classList.toggle('open', !isOpen);
    chevron.classList.toggle('open', !isOpen);
  }

  // Save button
  function toggleSave() {
    const btn = document.getElementById('save-btn');
    const saved = btn.dataset.saved === 'true';
    btn.dataset.saved = !saved;
    btn.textContent = saved ? 'Save for later' : '‚úì Saved';
  }

  // Build chart bars
  const bars = [
    { h: 30, good: false }, { h: 45, good: false }, { h: 60, good: true },
    { h: 80, good: true, now: true }, { h: 50, good: false }, { h: 35, good: false },
    { h: 25, good: false }, { h: 45, good: false }, { h: 70, good: true },
    { h: 40, good: false }, { h: 20, good: false },
  ];
  const container = document.getElementById('chart-bars');
  bars.forEach(b => {
    const wrap = document.createElement('div');
    wrap.className = 'bar-wrap';
    wrap.style.flex = '1';
    wrap.style.display = 'flex';
    wrap.style.alignItems = 'flex-end';
    wrap.style.height = '50px';

    const bar = document.createElement('div');
    bar.className = 'bar';
    bar.style.height = (b.h * 0.55) + 'px';
    bar.style.background = b.now ? '#2A52BE' : b.good ? '#2D7A4F' : '#D1E8D9';

    if (b.now) {
      const lbl = document.createElement('div');
      lbl.className = 'bar-now-label';
      lbl.textContent = 'Now';
      bar.appendChild(lbl);
    }

    wrap.appendChild(bar);
    container.appendChild(wrap);
  });
</script>
</body>
</html>
